{"title":"mysql简单介绍","slug":"mysql001","date":"2018-02-05T00:33:17.000Z","updated":"2018-02-05T02:00:01.536Z","comments":true,"path":"api/articles/mysql001.json","photos":[],"link":"","excerpt":"mysql 的逻辑结构库 （database scheme(计划)）<br>表 （行和列定义）（table）行： 数据行，需要获取的数据列定义：<br>1.数据的含义（列名字来定义）<br>2.数据的约束（数据类型，str,int …,特殊属性（非空，唯一））<br>可以有很多个库<br>每个库可能会有很多个表mysql 存储结构1<br>2<br>3<br>[root@db02 data]# ls<br>auto.cnf  db02.pid  ib_logfile0  mysql<br>db02.err  ibdata1   ib_logfile1  performance_schema<br>","covers":null,"content":"<h2 id=\"mysql-的逻辑结构\"><a href=\"#mysql-的逻辑结构\" class=\"headerlink\" title=\"mysql 的逻辑结构\"></a>mysql 的逻辑结构</h2><p>库 （database scheme(计划)）<br>表 （行和列定义）（table）</p>\n<ul>\n<li>行： 数据行，需要获取的数据</li>\n<li>列定义：<br>1.数据的含义（列名字来定义）<br>2.数据的约束（数据类型，str,int …,特殊属性（非空，唯一））<br>可以有很多个库<br>每个库可能会有很多个表</li>\n</ul>\n<h2 id=\"mysql-存储结构\"><a href=\"#mysql-存储结构\" class=\"headerlink\" title=\"mysql 存储结构\"></a>mysql 存储结构</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@db02 data]<span class=\"comment\"># ls</span></span><br><span class=\"line\">auto.cnf  db02.pid  ib_logfile0  mysql</span><br><span class=\"line\">db02.err  ibdata1   ib_logfile1  performance_schema</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>auto.cnf MySQL实例唯一id号，mysql集群中用<br>db02.pid msyql pid进程号存放文件<br>db02.err 错误日志存放文件<br>ibdata1：（共享表空间数据文件）</p>\n<ul>\n<li>表空间（相当于LVM）扩展表空间可以使用，目前mysql自动可以扩充，不用理会就行</li>\n<li>数据文件 （段，区，页）<br>ib_logfile0 日志文件 （redo日志）<br>ib_logfile1 </li>\n</ul>\n<p>系统库：</p>\n<ul>\n<li><p>mysql 系统的验证相关的库<br>  —user.frm 表结构定义文件<br>  —user.MYD 数据文件<br>  —user.MYI 索引文件<br>  <em>（注意：不同的存储引擎产生的文件可能不一样）</em></p>\n</li>\n<li><p>performance_schema 系统的关于辅助优化的视图库</p>\n</li>\n<li>information_scheme 查询元数据的视图库（虚拟的，操作系统层看不见）</li>\n<li>用户库：<br>如wordpress等网站程序生成的库数据用户库</li>\n</ul>\n<h2 id=\"msyql的链接\"><a href=\"#msyql的链接\" class=\"headerlink\" title=\"msyql的链接\"></a>msyql的链接</h2><p>工具命令</p>\n<ul>\n<li>mysql<br>–help 查询帮助<br>-u 用户<br>-p 密码<br>-h [ip地址]<br>-P [端口号]<br>–protocol(指定协议类型 tcp udp)<br>-s socket (默认编译进命令中了)<br>（mysql -user root -password 123 -port 3306 长格式）</li>\n<li><p>mysqladmin ：修改密码常用<br>参数类似mysql</p>\n</li>\n<li><p>mysqldump :数据库备份</p>\n</li>\n</ul>\n<h2 id=\"数据库的启动方式\"><a href=\"#数据库的启动方式\" class=\"headerlink\" title=\"数据库的启动方式\"></a>数据库的启动方式</h2><p>过程：</p>\n<ul>\n<li>启动后台进程（mysqld）</li>\n<li>分配线程</li>\n<li>预分配内存空间</li>\n<li>加载数据文件</li>\n</ul>\n<p>启动方式：</p>\n<ol>\n<li>mysql.server (/etc/init.d/mysqld)</li>\n<li>bin/mysqld_safe &amp; —启动脚本<br>/etc/init.d/mysqld 启动的时候会调用bin/mysql_safe 脚本</li>\n</ol>\n<p>关闭方式：<br><em>注意：尽量不要使用kill</em></p>\n<ol>\n<li>使用mysqladmin -uroot -p123 -P[端口] shutdown （多实例）</li>\n<li>使用/etc/init.d/mysqld stop (单实例)</li>\n</ol>\n<p><em>小知识：perror命令，加上错误代码可以简单看到错误信息</em></p>\n<h2 id=\"mysql初始化配置文件\"><a href=\"#mysql初始化配置文件\" class=\"headerlink\" title=\"mysql初始化配置文件\"></a>mysql初始化配置文件</h2><p>问题：</p>\n<ul>\n<li>到哪里找数据？</li>\n<li>我的程序在哪里？</li>\n<li>将来启动的时候状态信息和错误信息放哪里？</li>\n</ul>\n<p>解决方法：</p>\n<ol>\n<li>预编译的时候直接硬编码到二进制程序中</li>\n<li>修改配置文件</li>\n<li>命令行选项<br> –直接在命令中加上参数指定各种存放位置比如指定数据存放位置，数据库的位置，sockert的位置</li>\n</ol>\n","categories":[{"name":"mysql","slug":"mysql","count":1,"path":"api/categories/mysql.json"}],"tags":[{"name":"mysql","slug":"mysql","count":1,"path":"api/tags/mysql.json"}]}